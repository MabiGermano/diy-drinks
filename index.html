<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Caveat:wght@400;500;600;700&family=Nosifer&family=Prompt:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="styles/globals.css">
    <title>Drinks</title>


</head>

<body>
    <main id="desktop-content">
        <h1>Iiih! Parece que temos um acesso inesperado!</h1>
        <h2>Que tal acessar esse mesmo link por um dispositivo mobile?</h2>
        <p>Até já!</p>
    </main>
    <main id="main-content">
        <h1>
            Que tal um drink?
        </h1>
        <p>Reservamos aqui algumas
            opções para você com os ingredientes
            que temos disponíveis hoje!</p>

        <section id="carousel">
            <!-- Receita 1 -->
            <div class="cards-container">
                <div class="card">
                    <div class="recipe-data">
                        <h2>
                            lagoa azul
                        </h2>
                        <div class="ingredients">
                            <div class="ingredient">
                                <div class="measure">
                                    <img src="assets/icons/ice-cube-icon.png" alt="ice cube icon" class="icons">
                                </div>
                                <p>
                                    Bastante gelo
                                </p>
                            </div>
                            <div class="ingredient">
                                <div class="measure">
                                    <img src="assets/icons/lemon-icon.png" alt="lemon icon" class="icons">
                                    <div class="measure-label">
                                        <h3>3</h3>
                                        <i>fatias</i>
                                    </div>
                                </div>
                                <p>
                                    limão
                                </p>
                            </div>
                            <div class="ingredient">
                                <div class="measure">
                                    <img src="assets/icons/shot-glass-icon.png" alt="shot glass icon" class="icons">
                                    <div class="measure-label">
                                        <h3>1</h3>
                                        <i>dose</i>
                                    </div>
                                </div>
                                <p>
                                    vodka
                                </p>
                            </div>
                            <div class="ingredient">
                                <div class="measure">

                                    <img src="assets/icons/bottles-icon.png" alt="bottles icon" class="icons">
                                    <div class="measure-label">
                                        <h3>1</h3>
                                        <i>dose</i>
                                    </div>
                                </div>
                                <p>
                                    xarope curaçau blue
                                </p>
                            </div>
                            <div class="ingredient">
                                <div class="measure">
                                    <img src="assets/icons/bottles-icon.png" alt="bottles icon" class="icons">
                                    <div class="measure-label">
                                        <h3>2</h3>
                                        <i>doses</i>
                                    </div>
                                </div>
                                <p>
                                    refrigerante de limão
                                </p>
                            </div>
                        </div>
                    </div>
                    <img src="assets/blue_lagoon_cocktail.png" alt="">
                </div>

                <!-- Receita 2 -->

                <div class="card">
                    <div class="recipe-data">
                        <h2>
                            Tropical
                        </h2>
                        <div class="ingredients">
                            <div class="ingredient">
                                <div class="measure">
                                    <img src="assets/icons/ice-cube-icon.png" alt="ice cube icon" class="icons">
                                </div>
                                <p>
                                    Bastante gelo
                                </p>
                            </div>
                            <div class="ingredient">
                                <div class="measure">
                                    <img src="assets/icons/lemon-icon.png" alt="lemon icon" class="icons">
                                    <div class="measure-label">
                                        <h3>2</h3>
                                        <i>doses</i>
                                    </div>
                                </div>
                                <p>
                                    Suco de laranja
                                </p>
                            </div>
                            <div class="ingredient">
                                <div class="measure">
                                    <img src="assets/icons/shot-glass-icon.png" alt="shot glass icon" class="icons">
                                    <div class="measure-label">
                                        <h3>1</h3>
                                        <i>dose</i>
                                    </div>
                                </div>
                                <p>
                                    vodka
                                </p>
                            </div>
                            <div class="ingredient">
                                <div class="measure">

                                    <img src="assets/icons/bottles-icon.png" alt="bottles icon" class="icons">
                                    <div class="measure-label">
                                        <h3>1</h3>
                                        <i>dose</i>
                                    </div>
                                </div>
                                <p>
                                    xarope de morango
                                </p>
                            </div>
                            <div class="ingredient">
                                <div class="measure">
                                    <img src="assets/icons/bottles-icon.png" alt="bottles icon" class="icons">
                                    <div class="measure-label">
                                        <h3>1</h3>
                                        <i>dose</i>
                                    </div>
                                </div>
                                <p>
                                    água com gás
                                </p>
                            </div>
                        </div>
                    </div>
                    <img src="assets/tropical_cocktail.png" alt="">
                </div>
            </div>
        </section>
    </main>



    <script>
        const carousel = document.getElementById('carousel');
        const cardsContainer = document.querySelector('.cards-container');

        let isDragging = false;
        let startPosition = 0;
        let currentTranslate = 0;
        let prevTranslate = 0;

        cardsContainer.addEventListener('touchstart', touchStart);
        cardsContainer.addEventListener('touchmove', touchMove);
        cardsContainer.addEventListener('touchend', touchEnd);
        cardsContainer.addEventListener('touchcancel', touchEnd);
        function touchStart(e) {
            isDragging = true;
            startPosition = e.touches[0].clientX;
            prevTranslate = currentTranslate;
        }

        function touchMove(e) {
            if (isDragging) {
                const currentPosition = e.touches[0].clientX;
                console.log("--------------");
                console.log("current position: ", currentPosition);
                console.log("offset width: ", cardsContainer.offsetWidth);
                const tryTranslate = prevTranslate + currentPosition - startPosition;
                console.log("translate: ", currentTranslate);
                console.log("window width: ", window.innerWidth)
                const finalTarget = (window.innerWidth - cardsContainer.offsetWidth);
                console.log("final target", finalTarget);
                if (tryTranslate <= 0 && tryTranslate > finalTarget) {
                    currentTranslate = tryTranslate;
                    cardsContainer.style.transform = `translateX(${currentTranslate}px)`;
                } else if (tryTranslate > 0) {
                    currentTranslate = 0;
                    cardsContainer.style.transform = `translateX(${currentTranslate}px)`;
                } else if (tryTranslate < finalTarget) {
                    currentTranslate = finalTarget;
                    cardsContainer.style.transform = `translateX(${currentTranslate}px)`;
                }
            }
        }

        function touchEnd() {
            isDragging = false;
        }
    </script>

</body>

</html>